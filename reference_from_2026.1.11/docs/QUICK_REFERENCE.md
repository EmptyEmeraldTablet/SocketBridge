# SocketBridge AI Combat System Documentation

## 目录

1. [系统概述](#系统概述)
2. [架构设计](#架构设计)
3. [模块详解](#模块详解)
4. [快速开始](#快速开始)
5. [API 参考](#api-参考)
6. [配置指南](#配置指南)
7. [示例代码](#示例代码)
8. [故障排除](#故障排除)

---

## 系统概述

SocketBridge AI Combat System 是一个为《以撒的结合：重生》游戏开发的完整 AI 控制框架。

### 核心特性

- **实时数据采集**: 高频/中频/低频/变化时四种采集模式
- **双向通信**: 游戏数据实时传输，Python 发送控制指令
- **分层 AI 架构**: 4 阶段渐进式设计
- **模块化设计**: 各模块可独立使用或组合
- **Windows 兼容**: 完整跨平台支持

---

## 架构设计

### AI 决策层次



---

## 模块详解

### 核心模块

#### isaac_bridge.py - 核心桥接器

负责与游戏建立 TCP 连接，接收数据并发送控制指令。

**主要类**:

| 类名 | 说明 |
|------|------|
| IsaacBridge | 主桥接类，管理连接和通信 |
| GameState | 游戏状态容器 |
| GameDataAccessor | 便捷数据访问接口 |

#### orchestrator_enhanced.py - AI 主控器 (增强版)

整合所有 Phase 1-4 模块的完整 AI 控制框架。

**配置选项**:



---

### Phase 1: 基础模块

| 模块 | 文件 | 说明 |
|------|------|------|
| 数据处理 | data_processor.py | 解析游戏原始数据 |
| 环境模型 | environment.py | 管理房间布局、障碍物 |
| 基础控制 | basic_controllers.py | 移动、射击、攻击控制 |

### Phase 2: 分析模块

| 模块 | 文件 | 说明 |
|------|------|------|
| 路径规划 | pathfinding.py | A* 算法，动态避障 |
| 威胁分析 | threat_analysis.py | 敌人和投射物威胁评估 |

### Phase 3: 决策模块

| 模块 | 文件 | 说明 |
|------|------|------|
| 状态机 | state_machine.py | 分层状态管理 |
| 策略系统 | strategy_system.py | 多策略评估选择 |
| 行为树 | behavior_tree.py | 优先级行为决策 |

### Phase 4: 高级控制

| 模块 | 文件 | 说明 |
|------|------|------|
| 高级控制 | advanced_control.py | PID 控制、轨迹优化 |
| 智能瞄准 | smart_aiming.py | 目标预测、提前量计算 |
| 自适应系统 | adaptive_system.py | 场景识别、动态调参 |

---

## 快速开始

### 1. 基础连接



### 2. 简单 AI



### 3. 高级配置



---

## API 参考

### IsaacBridge



### EnhancedCombatOrchestrator



### ControlOutput



---

## 配置指南

### 预设配置



### 模块开关



---

## 示例代码

### 示例 1: 监听数据



### 示例 2: 自定义行为树



---

## 故障排除

### 常见问题

#### Q1: 连接失败



#### Q2: 模块导入错误



#### Q3: 性能优化



---

## 文件结构



---

**文档最后更新**: 2024年1月
